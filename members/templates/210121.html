<!DOCTYPE html>
<html>

<head>
	<!-- Required meta tags -->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<!-- Bootstrap CSS -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
	<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW"
		crossorigin="anonymous"></script>

	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
		integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">


	<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
		integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
		crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js"
		integrity="sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s"
		crossorigin="anonymous"></script>
	<style>
		.outer {
			margin-top: 10px;
			/*background-color: blue;*/
		}

		.outer>div {
			width: 200px;
			height: 200px;
			/*background-color: yellow;*/
			display: inline-block;
			vertical-align: top;
		}
	</style>
</head>

<body class="p-3">
	<script>
		var obj_sample
		function hello() {
			$($(".outer").children()[$("#my_date").val() - 1]).append("<p class='card-text' onclick='edit(this)'>"+ $("#my_input").val() + "</div>");
		}
		function edit(obj) {
			obj_sample=obj;
			$("#exampleModal .modal-title").html($($($(obj).parent()).children()[0]).html());
			$("#exampleModal input").val($(obj).html());
			$("#exampleModal").modal("show");
		}
		function edit_go(){
			$(obj_sample).html($("#exampleModal input").val());
			$("#exampleModal").modal("hide");
		}
	</script>
	<form class="form-inline">
		<input type="text" id="my_date" class="form-control mr-2" placeholder="날짜">

		<input type="text" id="my_input" class="form-control mr-2" placeholder="할일">
		<!--form 안에 버튼이 있을때 클릭하면 form을 전송한다.-->
		<!--button type : submit(default, 몸을 전송), button(inclick에 저장되어 있는 함수만 실행,폼전송은 안한다.)-->
		<button type="button" class="btn btn-success" onclick="hello();">할일 추가</button>
	</form>

	<!--span onclick="checkthisout(this);">span을 통한 this 확인</!--span>
	<a-- href="javascript:checkthisout(this); ">this 확인</a-->

	<div class="outer" onclick="checkchildren(this);">

        {% for i in loop %}
            <div class="card m-1">
                <div class="card-body">
                    <h1 class="card-title">{{i}}일</h1>
                </div>
            </div>
        {% endfor %}

	</div>

	<div class="modal" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="exampleModalLabel"></h5>
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				</div>
				<div class="modal-body">
					<input type="text" class="form-control"/>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">닫기</button>
					<button type="button" class="btn btn-primary" onclick="edit_go();">저장</button>
				</div>
			</div>
		</div>
	</div>
</body>
</html>